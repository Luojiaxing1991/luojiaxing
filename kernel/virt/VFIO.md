# 简介
Virtual Function I/O(VFIO)是一种虚拟化的设备直通方案。设备直通就是将设备直接挂到虚拟机，虚拟机通过直接与设备交互来获得较好的性能。设备直通有两种方式，一种是整个设备的直通，例如Intel的VT-d和AMD的ARM-Vi，另外一种是虚拟化共享设备的直通，例如SR-IOV，一个设备有PF和数个VF，每一个VF都可以直通到虚拟机内作为一个独立的设备来使用。

VFIO是一个用户驱动框架，它利用硬件的IO虚拟化技术，将设备直通给虚拟机。传统上，设备驱动和设备进行交互需要访问设备的很多资源，如PCIe设备的配置空间，Bar空间，设备中断等，由于存在实际的硬件设备，所以这些操作由内核态进行分配和访问。在虚拟化环境中，QEMU负责设备的虚拟化，当把设备直通到虚拟机后，需要由QEMU介入，实现对这些资源的访问。
